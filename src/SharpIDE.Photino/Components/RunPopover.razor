@using SharpIDE.Application.Features.SolutionDiscovery.VsPersistence

<div @onmouseover="@(() => _open = true)">
	<MudPopover Duration="100" OverflowBehavior="OverflowBehavior.FlipNever" Open="@true" AnchorOrigin="Origin.TopRight" TransformOrigin="Origin.TopRight">
		<MudStack @onmouseleave="@(() => _open = false)" Justify="Justify.FlexEnd" Class="pa-0 ma-0" Spacing="0">
			<MudButton Disabled="true" Style="min-width: 20px; align-self: end">
				<MudIcon Icon="@Icons.Material.Filled.PlayArrow" Size="Size.Medium" Color="Color.Default"/>
			</MudButton>
			<MudList T="string" Dense="true" Class="pa-0 ma-0">
				@if (SolutionModel?.AllProjects?.Count is >= 0)
				{
					@foreach (var project in SolutionModel.AllProjects)
					{
						<MudListItem T="string" Dense="true" Class="pa-0 ma-0 pl-2" Style="max-height: 36px;">
							<MudStack Row="true" Spacing="1" AlignItems="AlignItems.Center" Class="pa-0 ma-0">
								<MudText>@project.Name</MudText>
								<MudSpacer/>
								<MudButton Style="min-width: 20px;">
									<MudIcon Icon="@Icons.Material.Filled.PlayArrow" Size="Size.Medium" Color="Color.Success"/>
								</MudButton>
							</MudStack>
						</MudListItem>
					}
				}
			</MudList>
		</MudStack>
	</MudPopover>

	<MudButton Style="min-width: 20px;" >
		<MudIcon Icon="@Icons.Material.Filled.PlayArrow" Size="Size.Medium" Color="Color.Success"/>
	</MudButton>
</div>

@code {
	[Parameter, EditorRequired]
	public SharpIdeSolutionModel SolutionModel { get; set; } = null!;

	private bool _open = false;
}
